# 项目架构规则

## 总体架构

1. 采用经典的 Electron 主进程/渲染进程架构
2. 使用 Vue 3 的组合式 API 作为前端框架
3. 采用模块化设计，功能按领域划分
4. 遵循单向数据流原则
5. 使用 TypeScript 进行静态类型检查

## 目录结构

1. `src` 目录存放所有前端代码
2. `electron` 目录存放 Electron 主进程代码
3. 公共组件放在 `src/components` 目录
4. 页面组件放在 `src/pages` 目录
5. 数据库操作相关代码放在 `src/services/db` 目录
6. 实用工具函数放在 `src/utils` 目录

## 状态管理

1. 全局状态使用 Pinia 管理
2. 按功能模块拆分 Store
3. 本地状态优先使用组件内的 `ref` 和 `reactive`
4. 复杂表单状态可使用独立的表单状态管理
5. 避免过度使用全局状态，优先考虑组件通信

## 数据流向

1. 遵循"单向数据流"原则
2. 数据请求统一通过 Service 层进行
3. 异步操作结果通过 Store 更新到 UI
4. 组件之间的数据传递优先使用 props 和 emits
5. 复杂组件树可考虑使用 provide/inject

## 代码组织

1. 按功能或业务领域组织代码，避免按技术类型分类
2. 相关功能应该放在一起，减少跨目录依赖
3. 共享代码提取为通用模块或组件
4. 保持模块内高内聚，模块间低耦合
5. 第三方依赖应该通过抽象层使用，便于未来替换
